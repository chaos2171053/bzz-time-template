(this["webpackJsonpwebview-react"]=this["webpackJsonpwebview-react"]||[]).push([[0],{190:function(e,t,a){},298:function(e,t,a){},303:function(e,t,a){},342:function(e,t,a){},343:function(e,t,a){},347:function(e,t,a){},356:function(e,t,a){"use strict";a.r(t);var c=a(5),n=a(0),r=a.n(n),i=a(24),s=a.n(i),l=(a(190),a(359)),j=a(361),d=a(128),o=a(33),b=a(35),u=a(89),m=a(362),O=a(369),h=a(368),x=a(80),p=a(165),f=a(166),v=function(){function e(){Object(p.a)(this,e),this.init()}return Object(f.a)(e,[{key:"init",value:function(){window.acquireVsCodeApi&&(e.vscode=window.acquireVsCodeApi())}},{key:"postMessage",value:function(t){var a=t.command,c=t.data;e.vscode&&e.vscode.postMessage({command:a,data:c})}}]),e}();v.vscode=void 0;var g=v,y=a(363),F=a(364),w=y.a.Panel;var S=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(y.a,{defaultActiveKey:["directoryName"],children:Object(c.jsx)(w,{header:"\u76ee\u5f55\u914d\u7f6e",children:Object(c.jsx)(m.a.Item,{label:"\u76ee\u5f55\u540d",name:"directoryName",style:{width:"100%",paddingLeft:"25px",paddingRight:"25px"},rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u76ee\u5f55\u540d"}],children:Object(c.jsx)(F.a,{placeholder:"\u76ee\u5f55\u540d\u6700\u597d\u5bf9\u5e94\u8def\u7531\u540d"})})},"directoryName")})})},N=a(90),D=a.n(N),_=a(360),q=a(365),C=a(367),k=_.a.Option;var I,T=function(e){var t=e.form,a=e.DataSetType,r=Object(n.useState)(!0),i=Object(u.a)(r,2),s=i[0],l=i[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(m.a.Item,{label:"\u521d\u59cb\u5316\u540e\u81ea\u52a8\u67e5\u8be2",name:[a,"autoQuery"],rules:[{required:!0,message:"\u8bf7\u9009\u62e9 autoQuery"}],children:Object(c.jsxs)(q.a.Group,{children:[Object(c.jsx)(q.a,{value:!0,children:"\u662f"}),Object(c.jsx)(q.a,{value:!1,children:"\u5426"})]})}),Object(c.jsx)(m.a.Item,{label:"\u662f\u5426\u5206\u9875",name:[a,"paging"],rules:[{required:!0,message:"\u8bf7\u9009\u62e9 paging"}],children:Object(c.jsxs)(q.a.Group,{onChange:function(e){var a,c=null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value;t.setFieldsValue({listDataSet:{pageSize:10}}),l(!!c)},children:[Object(c.jsx)(q.a,{value:!0,children:"\u662f"}),Object(c.jsx)(q.a,{value:!1,children:"\u5426"})]})}),s?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(m.a.Item,{label:"\u6bcf\u9875\u6570\u636e\u6761\u6570",name:[a,"pageSize"],rules:[{required:s,message:"\u8bf7\u8f93\u5165 pageSize"}],children:Object(c.jsx)(C.a,{min:1})})}):null,Object(c.jsx)(m.a.Item,{label:"\u9009\u62e9\u6a21\u5f0f",name:[a,"selection"],rules:[{required:!0,message:"\u8bf7\u9009\u62e9 selection"}],children:Object(c.jsxs)(_.a,{children:[Object(c.jsx)(k,{value:"none",children:"\u65e0"}),Object(c.jsx)(k,{value:"single",children:"\u5355\u9009"}),Object(c.jsx)(k,{value:"multiple",children:"\u591a\u9009"})]})})]})},E=a(85),z=a(133),A=a(366),K=a(370),L=a(371);!function(e){e.auto="auto",e.boolean="boolean",e.number="number",e.currency="currency",e.string="string",e.date="date",e.dateTime="dateTime",e.week="week",e.month="month",e.year="year",e.time="time",e.object="object",e.intl="intl",e.email="email",e.url="url",e.color="color",e.reactNode="reactNode"}(I||(I={}));a(298);var P=_.a.Option,V=Object.values(I),B=(new Date).valueOf();var M=function(e){var t=e.form,a=e.DataSetType,r=e.DataSetFieldName;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(m.a.List,{name:[a,r],children:function(e,i){var s=i.add,l=i.remove;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(h.b,{direction:"vertical",style:{width:"100%"},children:e.map((function(e,i){var s="".concat(e.name),j="".concat(e.fieldKey,"__").concat(B+i);return Object(c.jsxs)("div",{className:"fields-wrapper",children:[Object(c.jsxs)(A.a,{style:{width:"100%"},children:[Object(n.createElement)(m.a.Item,Object(b.a)(Object(b.a)({},e),{},{key:"".concat(j,"__name"),name:[s,"name"],fieldKey:["".concat(j,"__name"),"name"],label:"\u5b57\u6bb5\u540d name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5b57\u6bb5\u540d"}]}),Object(c.jsx)(F.a,{onChange:function(e){return function(e,c){var n=Object(z.a)(t.getFieldValue(a)[r]);n[c].key=B+e.target.value,t.setFieldsValue(Object(E.a)({},a,Object(E.a)({},r,Object(z.a)(n))))}(e,i)}})),Object(n.createElement)(m.a.Item,Object(b.a)(Object(b.a)({},e),{},{key:"".concat(j,"__type"),name:[s,"type"],fieldKey:["".concat(j,"__type"),"type"],label:"\u5b57\u6bb5\u7c7b\u578b type",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5b57\u6bb5\u7c7b\u578b"}]}),Object(c.jsx)(_.a,{children:V.map((function(e,t){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(P,{value:e,children:e},j+e+t)})}))})),Object(n.createElement)(m.a.Item,Object(b.a)(Object(b.a)({},e),{},{key:"".concat(j,"__label"),name:[s,"label"],fieldKey:["".concat(j,"__label"),"label"],label:"\u6807\u7b7e label",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u7b7e"}]}),Object(c.jsx)(F.a,{}))]}),Object(c.jsx)(K.a,{onClick:function(){return function(e,t){t(e)}(i,l)},className:"fields-wrapper__minus"})]},B+j+i)}))}),Object(c.jsx)(m.a.Item,{className:"form-btn__wrapper",children:Object(c.jsx)(x.a,{type:"dashed",onClick:function(){return s()},block:!0,icon:Object(c.jsx)(L.a,{}),className:"form-btn",children:"\u6dfb\u52a0\u5b57\u6bb5"})})]})}})})};a(303);function Q(e){var t=e.DataSetType;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(m.a.Item,{label:"\u67e5\u8be2\u529f\u80fd\u63a5\u53e3\u5730\u5740",name:[t,"transport","read","url"],rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u67e5\u8be2\u63a5\u53e3"}],children:Object(c.jsx)(F.a,{})}),Object(c.jsx)("p",{children:"\u5176\u4ed6\u529f\u80fd\u6682\u672a\u5f00\u653e\u3002"})]})}var G=function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"card-wrapper",children:Object(c.jsx)(D.a,{title:"\u57fa\u672c\u5b57\u6bb5",children:Object(c.jsx)(T,Object(b.a)({},e))})}),Object(c.jsx)("div",{className:"card-wrapper",children:Object(c.jsx)(D.a,{title:"fields \u5b57\u6bb5",children:Object(c.jsx)(M,Object(b.a)(Object(b.a)({},e),{},{DataSetFieldName:"fields"}))})}),Object(c.jsx)("div",{className:"card-wrapper",children:Object(c.jsx)(D.a,{title:"queryFields \u5b57\u6bb5",children:Object(c.jsx)(M,Object(b.a)(Object(b.a)({},e),{},{DataSetFieldName:"queryFields"}))})}),Object(c.jsx)("div",{className:"card-wrapper",children:Object(c.jsx)(D.a,{title:"transport \u5b57\u6bb5",children:Object(c.jsx)(Q,Object(b.a)({},e))})})]})},J=(a(342),y.a.Panel);var R=function(e){var t=e.form,a="listDataSet";return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(y.a,{defaultActiveKey:[a],children:Object(c.jsx)(J,{header:"\u5217\u8868 DataSet \u914d\u7f6e",children:Object(c.jsx)(h.b,{direction:"vertical",size:"large",className:"space-wrapper",children:Object(c.jsx)(G,{form:t,DataSetType:a})})},a)})})},H=Object(b.a)({microService:{microServiceName:""}},{autoQuery:!0,paging:!0,pageSize:10,selection:"none",fields:[],queryFields:[],transport:{read:{url:""}}}),U={directoryName:"",listDataSet:Object(b.a)({},H)},W=(a(343),y.a.Panel),X=_.a.Option;function Y(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(y.a,{defaultActiveKey:["microService"],children:Object(c.jsx)(W,{header:"\u5fae\u670d\u52a1\u914d\u7f6e",children:Object(c.jsx)(m.a.Item,{label:"\u5fae\u670d\u52a1\u540d\u79f0",name:["microService","microServiceName"],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5fae\u670d\u52a1\u540d\u79f0"}],children:Object(c.jsxs)(_.a,{children:[Object(c.jsx)(X,{value:"property",children:"\u7269\u4e1a"}),Object(c.jsx)(X,{value:"payment",children:"\u7f34\u8d39"}),Object(c.jsx)(X,{value:"passage",children:"\u901a\u884c"})]})})},"microService")})})}var Z=new g,$={labelCol:{span:4},wrapperCol:{span:20}},ee={labelCol:{span:0},wrapperCol:{span:24}},te=function(){var e=m.a.useForm(),t=Object(u.a)(e,1)[0],a=Object(n.useState)(!1),r=Object(u.a)(a,2),i=r[0],s=r[1];return Object(n.useEffect)((function(){return window.addEventListener("message",(function(e){var t=e.data,a=t.command,c=t.data;switch(a){case"generate":"success"===c.message?O.b.success("\u751f\u6210\u6210\u529f"):(O.b.error("\u751f\u6210\u5931\u8d25"),s(!1))}})),function(){}}),[]),Object(c.jsxs)(m.a,Object(b.a)(Object(b.a)({},$),{},{form:t,name:"basic",initialValues:Object(b.a)({},U),onFinish:function(e){e=function(e){return e.listDataSet&&(e.listDataSet.fields=e.listDataSet.fields.filter((function(e){return e.name})),e.listDataSet.queryFields=e.listDataSet.queryFields.filter((function(e){return e.name}))),e}(e),console.log("Success:",e),i||(s(!0),Z.postMessage({command:"generatePageByForm",data:e}))},onFinishFailed:function(e){console.log("Failed:",e)},className:"generate-form",children:[Object(c.jsx)(Y,{}),Object(c.jsx)(S,{}),Object(c.jsx)(R,{form:t}),Object(c.jsx)(m.a.Item,Object(b.a)(Object(b.a)({},ee),{},{className:"form-btns",children:Object(c.jsxs)(h.b,{children:[Object(c.jsx)(x.a,{htmlType:"button",onClick:function(){t.resetFields()},children:"\u91cd\u7f6e"}),Object(c.jsx)(x.a,{type:"primary",htmlType:"submit",children:"\u751f\u6210"})]})}))]}))};function ae(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(te,{})})}function ce(){return Object(c.jsx)(o.c,{children:Object(c.jsx)(o.a,{path:"/list",component:ae})})}a(347);var ne=Object(o.f)((function(e){var t=e.children,a=e.history;console.log("history: ",a);var r=Object(n.useCallback)((function(){window.addEventListener("message",(function(e){var t=e.data,c=t.command,n=t.data;switch(c){case"route":n.url&&a.push({pathname:"/".concat(n.url),state:n.data})}}))}),[a]);return Object(n.useEffect)((function(){r()}),[r]),Object(c.jsx)(c.Fragment,{children:t})})),re=l.a.Footer,ie=l.a.Content,se=function(){return Object(c.jsxs)(l.a,{children:[Object(c.jsx)(j.a,{title:"Bzz time Template"}),Object(c.jsx)(d.a,{children:Object(c.jsx)(ie,{children:Object(c.jsx)(ne,{children:Object(c.jsx)(ce,{})})})}),Object(c.jsx)(re,{className:"footer",children:"Copyright \xa9 2020 @chaos2171053@gmail.com All rights reserved. Based on Antd."})]})},le=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,372)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),r(e),i(e)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(se,{})}),document.getElementById("root")),le()}},[[356,1,2]]]);
//# sourceMappingURL=main.6765eda2.chunk.js.map